<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Schema Overview</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
      body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background-color: #4CAF50;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        h1 {
            margin: 0;
            font-size: 1.5rem;
        }
        
        .controls {
            background-color: #f8f8f8;
            padding: 10px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .zoom-controls, .navigation-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 8px 12px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #45a049;
        }
        
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .zoom-level {
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }
        
        .diagram-container {
            overflow: hidden;
            position: relative;
            height: 600px;
            border: 1px solid #ddd;
            margin: 0 20px 20px 20px;
        }
        
        .mermaid-wrapper {
            position: absolute;
            transform-origin: 0 0;
            transition: transform 0.1s ease-out;
        }
        
        .legend {
            margin: 0 20px 20px 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .legend h3 {
            margin-top: 0;
            color: #4CAF50;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border-radius: 3px;
            border: 1px solid #ddd;
        }
        
        .relationship-description {
            margin: 5px 0;
            font-size: 0.9rem;
        }
        
        .reset-view {
            margin-left: auto;
        }
    </style>
</head>
<body>
    <h1>Database Schema Overview</h1>
    <div class="button-container">
        <a href="https://mermaid.live/view#pako:eNrFV0tzmzAQ_isM5-TSo2_Epin1cwxOm2k6GhkE1hgQIwk7nsT_vSvjB2ARE9edcmHYXfbx6duV9Gb6LCBmxyS8R3HEcfKSGvC43qznjI234ks9zsgzaGBM-ifRkzXtfrOmRooTcpJ69k_PwEHAiRDntj6VG42U5ankm2o0tk4JRxDzqyZmtmApOReTBNO4lkvMIlYV_fpt0ARHRJPfmswFlSXP393xyBDMpzhGMU2XouY9IMLnNJOUpefe5rmgKeCAOImokBzrzSR-hTpP8p7ddYbWwIjBXuYB0WhYGtVUD-PxwLZGBhUI-5Ku9KoV4TSkRBMMryKkEkyj6jJIJqH0QlMu3hnarmcNJ4bPCZYkQFjqtHkWVLTb4lWmGRr_GNnTlmQLKRcSVSl30MW4UVUjxpFGWIg148FFgu3WOuMspDFBO_K0o8hNULKnT07XvgCQEgmgBGVNPaPpUy177dFsaPiQT8TKPbkTZ5z6QAQkN5mGliF9hSKUTTti3gSeidXtW4-t4CF8BanV8bkdcgcc5liQOgw7lsBoSUSdOUVWJXHP8mxjhWMaoJCzRKuAgVkm9AcgF-uG_SWQtrZuN8HferKcgfXgDBzv-WqO7ipTQarhwRpziSRN6gqSBjVxCYI5Y8vyjGuus1IJeOg7o0f36ioukMzPhWTJ-abWVHy1vt06Ah4yF-eMK6Z0c-dxVfWnAenOXG88_F-zuTaBW67h1Lb6qGc9uzflomp5CCvK3d4yo6nlAan-ilOKz2rqfoJTF-cd5uKsvhUl69p0KjZ-qExyOs9leUx9eKwoKbN8HlP_xlOnQBVZnjd1Hmaeff1ZVTvJr9q0dAlObXcyHrlttqc91K13p_2iiYylgvyTk5nx_n5_z96OJ5CO8WKyMCRAHVNnV9kKlPECN1geR62y4sQnAHGT6amjlbEgUmv4Xj1N7lKFG0SA5hu9331f6hI4zj1dtgleNluWnEaVkvYI6hwWuxUKGW-wPpxwaogenWhiE7g7YXmKv9dVLE_cLMraoAUGolf_2LLyH6d2U7_Q1I_hDgJBzDsTZhDM8QDukjumv5hyQaDXTGUYkBDnsVSut2CKc8ncTeqbHclzcmcWTNxfQA9CzvJoYXZCHAv4irhyvdfA3k94V90Zzc6X7R-aESgx" target="_blank">
            View Diagram in Mermaid Live Editor
        </a>
        <a href="https://mermaid.live/edit#pako:eNrFV0tzmzAQ_isM5-TSo2_Epin1cwxOm2k6GhkE1hgQIwk7nsT_vSvjB2ARE9edcmHYXfbx6duV9Gb6LCBmxyS8R3HEcfKSGvC43qznjI234ks9zsgzaGBM-ifRkzXtfrOmRooTcpJ69k_PwEHAiRDntj6VG42U5ankm2o0tk4JRxDzqyZmtmApOReTBNO4lkvMIlYV_fpt0ARHRJPfmswFlSXP393xyBDMpzhGMU2XouY9IMLnNJOUpefe5rmgKeCAOImokBzrzSR-hTpP8p7ddYbWwIjBXuYB0WhYGtVUD-PxwLZGBhUI-5Ku9KoV4TSkRBMMryKkEkyj6jJIJqH0QlMu3hnarmcNJ4bPCZYkQFjqtHkWVLTb4lWmGRr_GNnTlmQLKRcSVSl30MW4UVUjxpFGWIg148FFgu3WOuMspDFBO_K0o8hNULKnT07XvgCQEgmgBGVNPaPpUy177dFsaPiQT8TKPbkTZ5z6QAQkN5mGliF9hSKUTTti3gSeidXtW4-t4CF8BanV8bkdcgcc5liQOgw7lsBoSUSdOUVWJXHP8mxjhWMaoJCzRKuAgVkm9AcgF-uG_SWQtrZuN8HferKcgfXgDBzv-WqO7ipTQarhwRpziSRN6gqSBjVxCYI5Y8vyjGuus1IJeOg7o0f36ioukMzPhWTJ-abWVHy1vt06Ah4yF-eMK6Z0c-dxVfWnAenOXG88_F-zuTaBW67h1Lb6qGc9uzflomp5CCvK3d4yo6nlAan-ilOKz2rqfoJTF-cd5uKsvhUl69p0KjZ-qExyOs9leUx9eKwoKbN8HlP_xlOnQBVZnjd1Hmaeff1ZVTvJr9q0dAlObXcyHrlttqc91K13p_2iiYylgvyTk5nx_n5_z96OJ5CO8WKyMCRAHVNnV9kKlPECN1geR62y4sQnAHGT6amjlbEgUmv4Xj1N7lKFG0SA5hu9331f6hI4zj1dtgleNluWnEaVkvYI6hwWuxUKGW-wPpxwaogenWhiE7g7YXmKv9dVLE_cLMraoAUGolf_2LLyH6d2U7_Q1I_hDgJBzDsTZhDM8QDukjumv5hyQaDXTGUYkBDnsVSut2CKc8ncTeqbHclzcmcWTNxfQA9CzvJoYXZCHAv4irhyvdfA3k94V90Zzc6X7R-aESgx" target="_blank">
            Edit Diagrams
        </a>
        <a href="book.html"> STUDIO PANEL AI DESIGN </a>
    </div>
    
 <div class="container">
        <div class="header">
            <h1>Studio Booking System Database Schema</h1>
        </div>
        
        <div class="controls">
            <div class="zoom-controls">
                <span>Zoom:</span>
                <button id="zoom-out">-</button>
                <span id="zoom-level" class="zoom-level">100%</span>
                <button id="zoom-in">+</button>
            </div>
            
            <div class="navigation-controls">
                <span>Move:</span>
                <button id="move-up">↑</button>
                <button id="move-down">↓</button>
                <button id="move-left">←</button>
                <button id="move-right">→</button>
            </div>
            
            <button id="reset-view" class="reset-view">Reset View</button>
        </div>
        
        <div class="diagram-container" id="diagram-container">
            <div class="mermaid-wrapper" id="mermaid-wrapper">
                <div class="mermaid" id="mermaid-diagram">
erDiagram
    STUDIO {
        INT id PK
        VARCHAR name
        TEXT address
        VARCHAR city
        VARCHAR country
        INT owner_id FK
        VARCHAR phone
        VARCHAR email
        TEXT logo
        TEXT[] images
        VARCHAR website
        JSON social_links
        TEXT description
        VARCHAR business_registration
        VARCHAR tax_id
        DECIMAL latitude
        DECIMAL longitude
        BOOLEAN is_active
        BOOLEAN is_verified
        DECIMAL avg_rating
        INT total_ratings
        DECIMAL avg_cancel_rate
        VARCHAR google_business_id
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    STUDIO_USERS {
        INT id PK
        VARCHAR first_name
        VARCHAR last_name
        VARCHAR email
        VARCHAR password
        VARCHAR phone
        TEXT profile_image
        JSON social_links
        ENUM role
        INT studio_id FK
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    BASE_SERVICE {
        INT id PK
        VARCHAR name
        TEXT description
        ENUM category
        DECIMAL standard_commission
        BOOLEAN is_active
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    SERVICE {
        INT id PK
        INT studio_id FK
        INT base_service_id FK
        VARCHAR name
        TEXT description
        ENUM pricing_type
        DECIMAL fixed_price
        BOOLEAN is_active
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    ITEM {
        INT id PK
        VARCHAR name
        TEXT description
        ENUM category
        TEXT[] sizes
        DECIMAL standard_commission
        BOOLEAN is_active
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    STUDIO_ITEM {
        INT id PK
        INT studio_id FK
        INT item_id FK
        VARCHAR name
        TEXT description
        DECIMAL price
        BOOLEAN is_active
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    PACKAGE {
        INT id PK
        INT studio_id FK
        VARCHAR name
        TEXT description
        DECIMAL base_price
        JSON service_ids
        JSON studio_item_ids
        DATE valid_from
        DATE valid_until
        BOOLEAN is_active
        ENUM package_type
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    AVAILABILITY {
        INT id PK
        INT studio_id FK
        DATE date
        TIME start_time
        TIME end_time
        BOOLEAN is_booked
        TIMESTAMP created_at
    }
    
    BOOKINGS {
        INT id PK
        INT studio_id FK
        INT service_id FK
        INT package_id FK
        INT customer_id FK
        DATE date
        TIME time
        ENUM status
        DECIMAL total_price
        DECIMAL commission_amount
        BOOLEAN is_rated
        BOOLEAN is_cancelled
        TIMESTAMP created_at
    }
    
    BOOKING_CANCELLATION {
        INT id PK
        INT booking_id FK
        TEXT reason
        ENUM cancel_type
        TIMESTAMP created_at
    }
    
    CUSTOMER {
        INT id PK
        VARCHAR first_name
        VARCHAR last_name
        VARCHAR email
        VARCHAR phone
        TIMESTAMP created_at
    }
    
    BREAK_DAYS {
        INT id PK
        INT studio_id FK
        DATE date
        TEXT reason
        TIMESTAMP created_at
    }
    
    RATING {
        INT id PK
        INT studio_id FK
        INT booking_id FK
        INT customer_id FK
        INT service_id FK
        INT stars
        TEXT review
        JSON rating_attributes
        BOOLEAN is_verified
        BOOLEAN is_public
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    RATING_ATTRIBUTE {
        INT id PK
        VARCHAR name
        TEXT description
        BOOLEAN is_active
        TIMESTAMP created_at
    }
    
    RATING_RESPONSE {
        INT id PK
        INT rating_id FK
        INT studio_id FK
        TEXT response
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }
    
    INVOICE {
        INT id PK
        INT booking_id FK
        INT studio_id FK
        INT studio_user_id FK
        DECIMAL total_amount
        DECIMAL commission_amount
        ENUM status
        DATE due_date
        DATE paid_date
        JSON line_items
        TIMESTAMP created_at
        TIMESTAMP updated_at
    }

    STUDIO ||--o{ SERVICE : "offers"
    STUDIO ||--o{ AVAILABILITY : "has"
    STUDIO ||--o{ BOOKINGS : "receives"
    STUDIO ||--o{ BREAK_DAYS : "sets"
    STUDIO ||--o{ STUDIO_USERS : "has"
    STUDIO ||--o{ RATING : "receives"
    STUDIO ||--o{ STUDIO_ITEM : "sells"
    STUDIO ||--o{ INVOICE : "receives"
    STUDIO ||--o{ PACKAGE : "offers"
    
    STUDIO_USERS ||--o{ INVOICE : "manages"
    
    CUSTOMER ||--o{ BOOKINGS : "makes"
    CUSTOMER ||--o{ RATING : "gives"
    
    BASE_SERVICE ||--o{ SERVICE : "extends"
    
    SERVICE ||--o{ BOOKINGS : "booked_for"
    
    ITEM ||--o{ STUDIO_ITEM : "provided_as"
    
    STUDIO_ITEM }o--o{ PACKAGE : "included_in"
    SERVICE }o--o{ PACKAGE : "included_in"
    
    BOOKINGS ||--o{ RATING : "generates"
    BOOKINGS ||--o{ INVOICE : "generates"
    BOOKINGS ||--o| BOOKING_CANCELLATION : "may_have"
    BOOKINGS }o--o{ PACKAGE : "may_book"
    
    RATING ||--o{ RATING_RESPONSE : "may_have"
    RATING }o--o{ RATING_ATTRIBUTE : "includes"
                </div>
            </div>
        </div>
        
        <div class="legend">
            <h3>Relationship Legend</h3>
            <div class="relationship-description">
                <strong>||--o{</strong> - One-to-many relationship (e.g., one STUDIO has many SERVICES)
            </div>
            <div class="relationship-description">
                <strong>}o--o{</strong> - Many-to-many relationship (e.g., many STUDIO_ITEMS can be in many PACKAGES)
            </div>
            <div class="relationship-description">
                <strong>||--o|</strong> - One-to-zero-or-one relationship (e.g., BOOKINGS may or may not have BOOKING_CANCELLATION)
            </div>
            
            <h3>Table Categories</h3>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #f8d7da;"></div>
                <span>Core Entities (STUDIO, CUSTOMER)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #d1e7dd;"></div>
                <span>Service Offerings (SERVICE, PACKAGE, ITEM)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #cfe2ff;"></div>
                <span>Booking System (AVAILABILITY, BOOKINGS)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #fff3cd;"></div>
                <span>Feedback System (RATING, RATING_RESPONSE)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #e2e3e5;"></div>
                <span>Financial (INVOICE)</span>
            </div>
        </div>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose',
            er: {
                diagramPadding: 20,
                layoutDirection: 'TB',
                minEntityWidth: 100,
                minEntityHeight: 75,
                entityPadding: 15,
                stroke: 'gray',
                fill: 'honeydew',
                fontSize: 12
            }
        });
        
        // Variables for zoom and pan
        let scale = 1;
        let translateX = 0;
        let translateY = 0;
        const scaleStep = 0.1;
        const translateStep = 50;
        const minScale = 0.5;
        const maxScale = 2;
        
        // DOM elements
        const wrapper = document.getElementById('mermaid-wrapper');
        const container = document.getElementById('diagram-container');
        const zoomLevel = document.getElementById('zoom-level');
        
        // Initialize the position once Mermaid is rendered
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(centerDiagram, 500); // Add delay to ensure diagram is rendered
        });
        
        // Apply transform to the wrapper
        function applyTransform() {
            wrapper.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
            zoomLevel.textContent = `${Math.round(scale * 100)}%`;
            
            // Update button states
            document.getElementById('zoom-in').disabled = scale >= maxScale;
            document.getElementById('zoom-out').disabled = scale <= minScale;
        }
        
        // Center the diagram initially
        function centerDiagram() {
            translateX = (container.offsetWidth - wrapper.offsetWidth) / 2;
            translateY = 0;
            scale = 1;
            applyTransform();
        }
        
        // Zoom controls
        document.getElementById('zoom-in').addEventListener('click', function() {
            if (scale < maxScale) {
                scale += scaleStep;
                applyTransform();
            }
        });
        
        document.getElementById('zoom-out').addEventListener('click', function() {
            if (scale > minScale) {
                scale -= scaleStep;
                applyTransform();
            }
        });
        
        // Movement controls
        document.getElementById('move-up').addEventListener('click', function() {
            translateY += translateStep;
            applyTransform();
        });
        
        document.getElementById('move-down').addEventListener('click', function() {
            translateY -= translateStep;
            applyTransform();
        });
        
        document.getElementById('move-left').addEventListener('click', function() {
            translateX += translateStep;
            applyTransform();
        });
        
        document.getElementById('move-right').addEventListener('click', function() {
            translateX -= translateStep;
            applyTransform();
        });
        
        // Reset view
        document.getElementById('reset-view').addEventListener('click', centerDiagram);
        
        // Add mouse wheel zooming
        container.addEventListener('wheel', function(event) {
            event.preventDefault();
            
            if (event.deltaY < 0 && scale < maxScale) {
                // Zoom in
                scale = Math.min(maxScale, scale + scaleStep);
            } else if (event.deltaY > 0 && scale > minScale) {
                // Zoom out
                scale = Math.max(minScale, scale - scaleStep);
            }
            
            applyTransform();
        });
        
        // Add drag functionality
        let isDragging = false;
        let startX, startY;
        let startTranslateX, startTranslateY;
        
        container.addEventListener('mousedown', function(event) {
            isDragging = true;
            startX = event.clientX;
            startY = event.clientY;
            startTranslateX = translateX;
            startTranslateY = translateY;
            container.style.cursor = 'grabbing';
        });
        
        document.addEventListener('mousemove', function(event) {
            if (isDragging) {
                const dx = event.clientX - startX;
                const dy = event.clientY - startY;
                translateX = startTranslateX + dx;
                translateY = startTranslateY + dy;
                applyTransform();
            }
        });
        
        document.addEventListener('mouseup', function() {
            isDragging = false;
            container.style.cursor = 'grab';
        });
        
        // Add cursor style for dragging
        container.style.cursor = 'grab';
    </script>
  P</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the attribute was created.</td></tr>
        </tbody>
    </table>

     <h1>Studio Booking System Database Tables</h1>
    
    <div class="table-container">
        <h2>Studio Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the studio.</td></tr>
                <tr><td>name</td><td>VARCHAR(255)</td><td>NOT NULL</td><td>Name of the studio (e.g., "ABCC").</td></tr>
                <tr><td>address</td><td>TEXT</td><td>NOT NULL</td><td>Address of the studio.</td></tr>
                <tr><td>city</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>City where the studio is located.</td></tr>
                <tr><td>country</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>Country where the studio is located.</td></tr>
                <tr><td>owner_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the studio owner.</td></tr>
                <tr><td>phone</td><td>VARCHAR(20)</td><td>NULLABLE</td><td>Contact phone number of the studio.</td></tr>
                <tr><td>email</td><td>VARCHAR(255)</td><td>NULLABLE, UNIQUE</td><td>Contact email of the studio.</td></tr>
                <tr><td>logo</td><td>TEXT</td><td>NULLABLE</td><td>URL of the studio's logo.</td></tr>
                <tr><td>images</td><td>TEXT[]</td><td>NULLABLE</td><td>List of URLs for studio images (gallery).</td></tr>
                <tr><td>website</td><td>VARCHAR(255)</td><td>NULLABLE</td><td>Website link of the studio.</td></tr>
                <tr><td>social_links</td><td>JSON</td><td>NULLABLE</td><td>Social media links (e.g., {"instagram", "facebook"}).</td></tr>
                <tr><td>description</td><td>TEXT</td><td>NULLABLE</td><td>Description of the studio's services and specialties.</td></tr>
                <tr><td>business_registration</td><td>VARCHAR(100)</td><td>NULLABLE</td><td>Business registration number.</td></tr>
                <tr><td>tax_id</td><td>VARCHAR(50)</td><td>NULLABLE</td><td>Tax identification number.</td></tr>
                <tr><td>latitude</td><td>DECIMAL(10, 8)</td><td>NOT NULL</td><td>Latitude for geolocation.</td></tr>
                <tr><td>longitude</td><td>DECIMAL(11, 8)</td><td>NOT NULL</td><td>Longitude for geolocation.</td></tr>
                <tr><td>is_active</td><td>BOOLEAN</td><td>DEFAULT TRUE</td><td>Indicates if the studio is active and accepting bookings.</td></tr>
                <tr><td>is_verified</td><td>BOOLEAN</td><td>DEFAULT FALSE</td><td>Indicates if the studio's details have been verified.</td></tr>
                <tr><td>avg_rating</td><td>DECIMAL(3, 2)</td><td>DEFAULT NULL</td><td>Average rating of the studio based on customer reviews.</td></tr>
                <tr><td>total_ratings</td><td>INT</td><td>DEFAULT 0</td><td>Total number of ratings received by the studio.</td></tr>
                <tr><td>avg_cancel_rate</td><td>DECIMAL(5, 2)</td><td>DEFAULT 0</td><td>Average cancellation rate for the studio's bookings.</td></tr>
                <tr><td>google_business_id</td><td>VARCHAR(255)</td><td>NULLABLE</td><td>Google My Business ID for integration.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the response was created.</td></tr>
                <tr><td>updated_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the response was last updated.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Invoice Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the invoice.</td></tr>
                <tr><td>booking_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the booking this invoice is for.</td></tr>
                <tr><td>studio_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the studio receiving payment.</td></tr>
                <tr><td>studio_user_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the studio user managing the invoice.</td></tr>
                <tr><td>total_amount</td><td>DECIMAL(10, 2)</td><td>NOT NULL</td><td>Total amount of the invoice.</td></tr>
                <tr><td>commission_amount</td><td>DECIMAL(10, 2)</td><td>NOT NULL</td><td>Commission amount (25% flat rate).</td></tr>
                <tr><td>status</td><td>ENUM('draft', 'sent', 'paid', 'overdue', 'cancelled')</td><td>NOT NULL</td><td>Status of the invoice.</td></tr>
                <tr><td>due_date</td><td>DATE</td><td>NOT NULL</td><td>Due date for payment.</td></tr>
                <tr><td>paid_date</td><td>DATE</td><td>NULLABLE</td><td>Date when the invoice was paid.</td></tr>
                <tr><td>line_items</td><td>JSON</td><td>NOT NULL</td><td>Detailed line items in the invoice.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the invoice was created.</td></tr>
                <tr><td>updated_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the invoice was last updated.</td></tr>
            </tbody>
        </table>
    </div>
</body>
</html>d>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the studio was created.</td></tr>
                <tr><td>updated_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the studio was last updated.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Studio Users Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the studio user.</td></tr>
                <tr><td>first_name</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>First name of the user.</td></tr>
                <tr><td>last_name</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>Last name of the user.</td></tr>
                <tr><td>email</td><td>VARCHAR(255)</td><td>NOT NULL, UNIQUE</td><td>Email address of the user.</td></tr>
                <tr><td>password</td><td>VARCHAR(255)</td><td>NOT NULL</td><td>Encrypted password of the user.</td></tr>
                <tr><td>phone</td><td>VARCHAR(20)</td><td>NULLABLE</td><td>Contact phone number of the user.</td></tr>
                <tr><td>profile_image</td><td>TEXT</td><td>NULLABLE</td><td>URL to the user's profile picture.</td></tr>
                <tr><td>social_links</td><td>JSON</td><td>NULLABLE</td><td>Social links for the user.</td></tr>
                <tr><td>role</td><td>ENUM('owner', 'admin', 'staff', 'photographer')</td><td>NOT NULL</td><td>Role of the user in the studio.</td></tr>
                <tr><td>studio_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the studio the user belongs to.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the user account was created.</td></tr>
                <tr><td>updated_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the user account was last updated.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Base Service Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the base service.</td></tr>
                <tr><td>name</td><td>VARCHAR(255)</td><td>NOT NULL</td><td>Name of the base service (e.g., "Portrait Photography").</td></tr>
                <tr><td>description</td><td>TEXT</td><td>NULLABLE</td><td>Description of the base service.</td></tr>
                <tr><td>category</td><td>ENUM('photo', 'video', 'event', 'print')</td><td>NOT NULL</td><td>Category of the service.</td></tr>
                <tr><td>standard_commission</td><td>DECIMAL(5, 2)</td><td>DEFAULT 25.00</td><td>Standard commission rate for this service type.</td></tr>
                <tr><td>is_active</td><td>BOOLEAN</td><td>DEFAULT TRUE</td><td>Indicates if the base service is active.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the base service was created.</td></tr>
                <tr><td>updated_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the base service was last updated.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Service Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the service.</td></tr>
                <tr><td>studio_id</td><td>INT</td><td>FOREIGN KEY</td><td>The studio offering the service.</td></tr>
                <tr><td>base_service_id</td><td>INT</td><td>FOREIGN KEY</td><td>Reference to the base service this extends.</td></tr>
                <tr><td>name</td><td>VARCHAR(255)</td><td>NOT NULL</td><td>Name of the service.</td></tr>
                <tr><td>description</td><td>TEXT</td><td>NULLABLE</td><td>Description of the service.</td></tr>
                <tr><td>pricing_type</td><td>ENUM('fixed', 'package')</td><td>NOT NULL</td><td>Indicates if the service has fixed or package pricing.</td></tr>
                <tr><td>fixed_price</td><td>DECIMAL(10, 2)</td><td>NULLABLE</td><td>Flat price for the service if fixed pricing.</td></tr>
                <tr><td>is_active</td><td>BOOLEAN</td><td>DEFAULT TRUE</td><td>Indicates if the service is active and available for booking.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the service was created.</td></tr>
                <tr><td>updated_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the service was last updated.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Item Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the item.</td></tr>
                <tr><td>name</td><td>VARCHAR(255)</td><td>NOT NULL</td><td>Name of the standard item (e.g., "8x10 Print").</td></tr>
                <tr><td>description</td><td>TEXT</td><td>NULLABLE</td><td>Description of the item.</td></tr>
                <tr><td>category</td><td>ENUM('print', 'album', 'frame', 'gift')</td><td>NOT NULL</td><td>Category of the item.</td></tr>
                <tr><td>sizes</td><td>TEXT[]</td><td>NULLABLE</td><td>Available sizes for this item (if applicable).</td></tr>
                <tr><td>standard_commission</td><td>DECIMAL(5, 2)</td><td>DEFAULT 25.00</td><td>Standard commission rate for this item.</td></tr>
                <tr><td>is_active</td><td>BOOLEAN</td><td>DEFAULT TRUE</td><td>Indicates if the item is active.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the item was created.</td></tr>
                <tr><td>updated_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the item was last updated.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Studio Item Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the studio item.</td></tr>
                <tr><td>studio_id</td><td>INT</td><td>FOREIGN KEY</td><td>The studio offering the item.</td></tr>
                <tr><td>item_id</td><td>INT</td><td>FOREIGN KEY</td><td>Reference to the standard item.</td></tr>
                <tr><td>name</td><td>VARCHAR(255)</td><td>NOT NULL</td><td>Custom name of the item (may differ from standard).</td></tr>
                <tr><td>description</td><td>TEXT</td><td>NULLABLE</td><td>Custom description of the item.</td></tr>
                <tr><td>price</td><td>DECIMAL(10, 2)</td><td>NOT NULL</td><td>Price set by the studio for this item.</td></tr>
                <tr><td>is_active</td><td>BOOLEAN</td><td>DEFAULT TRUE</td><td>Indicates if the studio item is active.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the studio item was created.</td></tr>
                <tr><td>updated_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the studio item was last updated.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Package Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the package.</td></tr>
                <tr><td>studio_id</td><td>INT</td><td>FOREIGN KEY</td><td>The studio offering the package.</td></tr>
                <tr><td>name</td><td>VARCHAR(255)</td><td>NOT NULL</td><td>Name of the package.</td></tr>
                <tr><td>description</td><td>TEXT</td><td>NOT NULL</td><td>Description of the package.</td></tr>
                <tr><td>base_price</td><td>DECIMAL(10, 2)</td><td>NOT NULL</td><td>Base price for the package.</td></tr>
                <tr><td>service_ids</td><td>JSON</td><td>NULLABLE</td><td>Array of service IDs included in the package.</td></tr>
                <tr><td>studio_item_ids</td><td>JSON</td><td>NULLABLE</td><td>Array of studio item IDs included in the package.</td></tr>
                <tr><td>valid_from</td><td>DATE</td><td>NOT NULL</td><td>Start date for the package availability.</td></tr>
                <tr><td>valid_until</td><td>DATE</td><td>NOT NULL</td><td>End date for the package availability.</td></tr>
                <tr><td>is_active</td><td>BOOLEAN</td><td>DEFAULT TRUE</td><td>Indicates if the package is active and available for booking.</td></tr>
                <tr><td>package_type</td><td>ENUM('Green', 'Popular', 'Best Value')</td><td>DEFAULT 'Green'</td><td>Type or category of the package for promotional purposes.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the package was created.</td></tr>
                <tr><td>updated_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the package was last updated.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Availability Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the availability slot.</td></tr>
                <tr><td>studio_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the studio the availability belongs to.</td></tr>
                <tr><td>date</td><td>DATE</td><td>NOT NULL</td><td>Available date.</td></tr>
                <tr><td>start_time</td><td>TIME</td><td>NOT NULL</td><td>Starting time of the availability slot.</td></tr>
                <tr><td>end_time</td><td>TIME</td><td>NOT NULL</td><td>Ending time of the availability slot.</td></tr>
                <tr><td>is_booked</td><td>BOOLEAN</td><td>DEFAULT FALSE</td><td>Indicates if the slot is booked.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the availability was created.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Bookings Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for a booking.</td></tr>
                <tr><td>studio_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the studio being booked.</td></tr>
                <tr><td>service_id</td><td>INT</td><td>FOREIGN KEY, NULLABLE</td><td>ID of the service being booked.</td></tr>
                <tr><td>package_id</td><td>INT</td><td>FOREIGN KEY, NULLABLE</td><td>ID of the package being booked (if applicable).</td></tr>
                <tr><td>customer_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the customer making the booking.</td></tr>
                <tr><td>date</td><td>DATE</td><td>NOT NULL</td><td>Date of the booking.</td></tr>
                <tr><td>time</td><td>TIME</td><td>NOT NULL</td><td>Time of the booking.</td></tr>
                <tr><td>status</td><td>ENUM('pending', 'confirmed', 'completed', 'cancelled')</td><td>NOT NULL</td><td>Status of the booking.</td></tr>
                <tr><td>total_price</td><td>DECIMAL(10, 2)</td><td>NOT NULL</td><td>Total price for the booking.</td></tr>
                <tr><td>commission_amount</td><td>DECIMAL(10, 2)</td><td>NOT NULL</td><td>Commission amount (25% flat rate).</td></tr>
                <tr><td>is_rated</td><td>BOOLEAN</td><td>DEFAULT FALSE</td><td>Indicates if the customer has provided a rating.</td></tr>
                <tr><td>is_cancelled</td><td>BOOLEAN</td><td>DEFAULT FALSE</td><td>Indicates if the booking was cancelled.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the booking was made.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Booking Cancellation Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the cancellation.</td></tr>
                <tr><td>booking_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the cancelled booking.</td></tr>
                <tr><td>reason</td><td>TEXT</td><td>NOT NULL</td><td>Reason for cancellation.</td></tr>
                <tr><td>cancel_type</td><td>ENUM('customer', 'studio', 'system')</td><td>NOT NULL</td><td>Who initiated the cancellation.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the cancellation was recorded.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Customer Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the customer.</td></tr>
                <tr><td>first_name</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>First name of the customer.</td></tr>
                <tr><td>last_name</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>Last name of the customer.</td></tr>
                <tr><td>email</td><td>VARCHAR(255)</td><td>NOT NULL, UNIQUE</td><td>Email address of the customer.</td></tr>
                <tr><td>phone</td><td>VARCHAR(20)</td><td>NULLABLE</td><td>Contact phone number of the customer.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the customer account was created.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Break Days Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the break day.</td></tr>
                <tr><td>studio_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the studio setting the break day.</td></tr>
                <tr><td>date</td><td>DATE</td><td>NOT NULL</td><td>Break day date.</td></tr>
                <tr><td>reason</td><td>TEXT</td><td>NULLABLE</td><td>Reason for the break day.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the break day was set.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Rating Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the rating.</td></tr>
                <tr><td>studio_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the studio being rated.</td></tr>
                <tr><td>booking_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the booking that generated this rating.</td></tr>
                <tr><td>customer_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the customer providing the rating.</td></tr>
                <tr><td>service_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the service that was rated.</td></tr>
                <tr><td>stars</td><td>INT</td><td>NOT NULL</td><td>Overall star rating (typically 1-5).</td></tr>
                <tr><td>review</td><td>TEXT</td><td>NULLABLE</td><td>Text review provided by the customer.</td></tr>
                <tr><td>rating_attributes</td><td>JSON</td><td>NULLABLE</td><td>Structured ratings for specific aspects.</td></tr>
                <tr><td>is_verified</td><td>BOOLEAN</td><td>DEFAULT FALSE</td><td>Flag indicating if the rating has been verified.</td></tr>
                <tr><td>is_public</td><td>BOOLEAN</td><td>DEFAULT TRUE</td><td>Flag indicating if the rating should be publicly visible.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the rating was created.</td></tr>
                <tr><td>updated_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the rating was last updated.</td></tr>
            </tbody>
        </table>
    </div>

    <div class="table-container">
        <h2>Rating Attribute Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the rating attribute.</td></tr>
                <tr><td>name</td><td>VARCHAR(100)</td><td>NOT NULL</td><td>Name of the rating attribute.</td></tr>
                <tr><td>description</td><td>TEXT</td><td>NULLABLE</td><td>Description of what this attribute measures.</td></tr>
                <tr><td>is_active</td><td>BOOLEAN</td><td>DEFAULT TRUE</td><td>Flag indicating if this attribute is currently active.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the attribute was created.</td></tr>
            </tbody>
        </table>
    </div>

<div class="table-container">
        <h2>Rating Response Table</h2>
        <table>
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Type</th>
                    <th>Constraints</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>id</td><td>INT</td><td>PRIMARY KEY, AUTO_INCREMENT</td><td>Unique identifier for the rating response.</td></tr>
                <tr><td>rating_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the rating being responded to.</td></tr>
                <tr><td>studio_id</td><td>INT</td><td>FOREIGN KEY</td><td>ID of the studio providing the response.</td></tr>
                <tr><td>response</td><td>TEXT</td><td>NOT NULL</td><td>Text of the studio's response to the rating.</td></tr>
                <tr><td>created_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the response was created.</td></tr>
                <tr><td>updated_at</td><td>TIMESTAMP</td><td>DEFAULT CURRENT_TIMESTAMP</td><td>Timestamp when the response was last updated.</td></tr>
            </tbody>
        </table>
    </div>

    
</div>

<div class="table-container">
    <h2 class="highlight">Rating System Explanation</h2>
    
    <p>The rating system allows customers to provide feedback on studios and services after completing a booking. This implementation enables detailed feedback collection, verification, and studio owner responses.</p>

    <h3>Rating Process Flow:</h3>

    <ol>
        <li><strong>Booking Completion:</strong> After a customer completes a booking with a studio, they can provide a rating. The <code>is_rated</code> flag in the BOOKINGS table prevents duplicate ratings.</li>
        
        <li><strong>Rating Submission:</strong> The customer submits a star rating (1-5), optional review text, and specific feedback on attributes (stored as JSON in <code>rating_attributes</code>). For example, a customer might give 5 stars overall with specific ratings for cleanliness (5), communication (4), and value (5).</li>
        
        <li><strong>Studio Metrics Update:</strong> Upon rating submission, the studio's <code>avg_rating</code> and <code>total_ratings</code> fields are automatically recalculated. For instance, a studio's average might change from 4.2 to 4.3 after a new 5-star rating.</li>
        
        <li><strong>Verification:</strong> Ratings can be verified (using <code>is_verified</code>) to ensure they come from legitimate customers, and can be toggled between public and private (using <code>is_public</code>).</li>
        
        <li><strong>Studio Response:</strong> Studio owners can respond to ratings through the RATING_RESPONSE table, promoting dialogue between studios and customers. For example, a studio might respond with "Thank you for your feedback! We're glad you enjoyed our portrait session."</li>
        
        <li><strong>Rating Display:</strong> Verified and public ratings appear on studio profiles, helping future customers make informed decisions based on authentic feedback.</li>
    </ol>

<h3>PURPOSE OF THE TWO MAIN RATING TABLES:</h3>

<div class="table-container">
    <div class="table-section">
        <h4>1. RATING Table</h4>
        <p>The RATING table stores the actual customer reviews and ratings. Each row represents a single customer's evaluation of a specific studio after a completed booking. This table contains:</p>
        <ul>
            <li>The star rating (1-5)</li>
            <li>The customer's text review</li>
            <li>JSON data for attribute-specific ratings</li>
            <li>Verification and visibility flags</li>
            <li>Links to the specific booking, customer, studio, and service being rated</li>
        </ul>
        <p>This table answers the question: <strong>"What did customers think about their experience with this studio?"</strong></p>
    </div>

    <div class="table-section">
        <h4>2. RATING_ATTRIBUTE Table</h4>
        <p>The RATING_ATTRIBUTE table defines the standardized categories that customers can rate. Each row represents a specific aspect of service that customers evaluate. This table contains:</p>
        <ul>
            <li>Names of rating categories (e.g., "Cleanliness", "Communication", "Value")</li>
            <li>Descriptions explaining what each attribute means</li>
            <li>Active/inactive status for each attribute</li>
        </ul>
        <p>This table answers the question: <strong>"What specific aspects of service should customers evaluate?"</strong></p>
    </div>
</div>

<p>The separation allows the platform to modify what attributes customers rate (by updating the RATING_ATTRIBUTE table) without affecting existing ratings stored in the RATING table. It creates a consistent evaluation framework while keeping the actual rating data separate.</p>    
</div>
</body>
</html>
